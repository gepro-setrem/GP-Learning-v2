<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title><ui:insert name="title">GPLearning</ui:insert></title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="shortcut icon" type="image/png" href="#{resource['img/faveicon.png']}"/>
        <h:outputStylesheet name="./css/bootstrap.min.css"/>
        <h:outputStylesheet name="./css/cssDefault.css"/>
        <link href="http://fontawesome.io/assets/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css"/>
        <h:outputStylesheet name="./css/eap_css.css"/>
        <h:outputStylesheet name="./css/cronograma_css.css"/>
        <script>$(function () {
                window.print();
            });</script>
    </h:head>
    <h:body>
        #{planoProjetoBean.setProjeto(projetoBean.projeto)}
        <div class="panel panel-default">
            <div class="panel-heading">Projeto</div>
            <div class="panel-body">
                <div class="row form-group">
                    <div class="col-md-4 col-sm-6 col-xs-12">
                        <label class="col-xs-3 text-right">Projeto:</label>
                        <div class="col-xs-9">#{planoProjetoBean.projeto.nome}</div>
                    </div>
                    <div class="col-md-4 col-sm-6 col-xs-12">
                        <label class="col-xs-3 text-right">Empresa:</label>
                        <div class="col-xs-9">#{planoProjetoBean.projeto.empresa}</div>
                    </div>
                    <div class="col-md-4 col-sm-6 col-xs-12">
                        <label class="col-xs-3 text-right">Gerente:</label>
                        <div class="col-xs-9">#{planoProjetoBean.projeto.gerente.nome}</div>
                    </div>
                    <div class="col-xs-12">
                        <label class="col-sm-2 col-xs-3 text-right">Componentes:</label>
                        <div class="col-sm-10 col-xs-9">#{planoProjetoBean.projeto.componentes}</div>
                    </div>
                    <div class="col-xs-12">
                        <label class="col-sm-2 col-xs-3 text-right">Descrição Geral:</label>
                        <div class="col-sm-10 col-xs-9">#{planoProjetoBean.projeto.descricao}</div>
                    </div>
                </div>
            </div>
        </div>
        <h:panelGroup rendered="#{planoProjetoBean.termoabertura != null}">
            <div class="panel panel-default">
                <div class="panel-heading">Termo de Abertura</div>
                <div class="panel-body">
                    <div class="panel panel-default">
                        <div class="panel-heading">#{turmaBean.getEtapaProjeto('DescricaoProjeto')}</div>
                        <div class="panel-body">
                            #{planoProjetoBean.termoabertura.descricao}
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading">#{turmaBean.getEtapaProjeto('JustificativaProjeto')}</div>
                        <div class="panel-body">
                            #{planoProjetoBean.termoabertura.justificativa}
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading">#{turmaBean.getEtapaProjeto('Premissas')}</div>
                        <div class="panel-body">
                            <p:dataTable class="table table-hover" var="premissa" value="#{planoProjetoBean.termoabertura.premissas}" emptyMessage="Nenhum registro encontrado.">
                                <p:column headerText="Descrição da Premissa">
                                    <h:outputText value="#{premissa.descricao}"/>
                                </p:column>
                            </p:dataTable>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading">#{turmaBean.getEtapaProjeto('Restricoes')}</div>
                        <div class="panel-body">
                            <p:dataTable class="table table-hover" var="restricao" value="#{planoProjetoBean.termoabertura.restricoes}" emptyMessage="Nenhum registro encontrado.">
                                <p:column headerText="Descrição da Restrição">
                                    <h:outputText value="#{restricao.descricao}"/>
                                </p:column>
                            </p:dataTable>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading">#{turmaBean.getEtapaProjeto('Marcos')}</div>
                        <div class="panel-body">
                            <p:dataTable class="table table-hover" var="marco" value="#{planoProjetoBean.termoabertura.marcos}" emptyMessage="Nenhum registro encontrado.">
                                <p:column headerText="Objetivo">
                                    <h:outputText value="#{marco.objetivo}"/>
                                </p:column>

                                <p:column headerText="Previsão" style="width: 150px;">
                                    <h:outputText value="#{marco.previsao}"> <f:convertDateTime pattern="dd/MM/yyyy"/></h:outputText>
                                </p:column>
                            </p:dataTable>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading">#{turmaBean.getEtapaProjeto('RequisitosTermoAbertura')}</div>
                        <div class="panel-body">
                            <p:dataTable class="table table-hover" var="requisito" value="#{planoProjetoBean.termoabertura.requisitosTermoAberturas}" emptyMessage="Nenhum registro encontrado.">
                                <p:column headerText="Requisito">
                                    <h:outputText value="#{requisito.nome}"/>
                                </p:column>
                                <p:column headerText="Descrição">
                                    <h:outputText value="#{requisito.descricao}"/>
                                </p:column>
                            </p:dataTable>
                        </div>
                    </div>
                </div>
            </div>
        </h:panelGroup>

        <div class="panel panel-default">
            <div class="panel-heading">#{turmaBean.getEtapaProjeto('Stakeholders')}</div>
            <div class="panel-body">
                <p:dataTable class="table table-hover" var="stakeholder" value="#{planoProjetoBean.projeto.stakeholders}" emptyMessage="Nenhum registro encontrado.">
                    <p:column headerText="Nome">
                        <h:outputText value="#{stakeholder.nome}"/>
                    </p:column>

                    <p:column headerText="Papel">
                        <h:outputText value="#{stakeholder.papel}"/>
                    </p:column>

                    <p:column headerText="Contribuição">
                        <h:outputText value="#{stakeholder.contribuicao}"/>
                    </p:column>
                </p:dataTable>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">#{turmaBean.getEtapaProjeto('PlanoGerenciamentoEscopo')}</div>
            <div class="panel-body">
                #{planoProjetoBean.projeto.planoEscopo}
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">#{turmaBean.getEtapaProjeto('Requisitos')}</div>
            <div class="panel-body">
                <p:dataTable class="table table-hover" var="requisito" value="#{planoProjetoBean.projeto.requisitos}" emptyMessage="Nenhum registro encontrado.">
                    <p:column headerText="Requisito">
                        <h:outputText value="#{requisito.nome}"/>
                    </p:column>
                    <p:column headerText="Descrição">
                        <h:outputText value="#{requisito.descricao}"/>
                    </p:column>
                </p:dataTable>
            </div>
        </div>


        <div class="panel panel-default">
            <div class="panel-heading">#{turmaBean.getEtapaProjeto('Eap')}</div>
            <div class="panel-body">
                <div class="eap_list">
                    <h:outputText value=" #{planoProjetoBean.htmlEAP}" escape="false"/>
                </div>
                <div class="modal fade" id="eapDetailModal" role="dialog" aria-labelledby="eapDetailModal" aria-hidden="true" data-backdrop="static">
                    <div class="modal-dialog modal-md">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                                <h4 class="modal-title">EAP</h4>
                            </div>
                            <div class="modal-body">
                                <div class="form-group row">
                                    <label class="col-xs-4 text-right">Descrição:</label>
                                    <div class="descricao col-xs-8"></div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-xs-4 text-right">Início:</label>
                                    <div class="inicio col-xs-8"></div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-xs-4 text-right">Término:</label>
                                    <div class="termino col-xs-8"></div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-xs-4 text-right">Custo:</label>
                                    <div class="valor col-xs-8"></div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <a class="btn btn-default" data-dismiss="modal">Fechar</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">#{turmaBean.getEtapaProjeto('Cronograma')}</div>
            <div class="panel-body">
                <table class="tarefas">
                    <thead>
                        <tr>
                            <th>Marco</th>
                            <th>Tarefa</th>
                            <th class="text-center" style="width: 140px;">Início</th>
                            <th class="text-center" style="width: 140px;">Término</th>
                            <th>Recursos</th>
                        </tr>
                    </thead>
                    <tbody>
                        <h:outputText value=" #{planoProjetoBean.htmlCronograma}" escape="false"/>
                    </tbody>
                </table>
            </div>
        </div>
    </h:body>
</html>
